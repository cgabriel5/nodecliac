!function(e){"use strict";function t(t,r,n,o){var i;i="LibraryEvent"===r?new CustomEvent(t,{detail:{data:o.data||null}}):new e[r](t,Object.assign({bubbles:!0,cancelable:!1,scoped:!1,composed:!1},o.options||{})),i.syntheticType=r,i.isSynthetic=!0,i.data=o.data||null;var a=Object.assign({target:null,currentTarget:n,relatedTarget:null,srcElement:null,fromElement:null,toElement:null,explicitOriginalTarget:null,originalTarget:null},o.targets||{});return i.targets=a,i}var r=function(){function e(e){return Math.random().toString(36).substr(2,e)}function t(e,t){return e.indexOf(t)}function o(e){return!!-~e}function i(e){for(var t=[],r=0,n=e.length;r<n;r++)t.push(e[r]);return t}function a(e,t,r,n){var o;return function(){function i(){n||e.apply(a,s),o=null}var a=r||this,s=arguments;o?clearTimeout(o):n&&e.apply(a,s),o=setTimeout(i,t||100)}}function s(e,t,r){t=t||250;var n,o;return function(){var i=r||this,a=+new Date,s=arguments;n&&a<n+t?(clearTimeout(o),o=setTimeout(function(){n=a,e.apply(i,s)},t)):(n=a,e.apply(i,s))}}function l(e){var t=e.properties,r=e.options,n=Object.assign({id:null,name:null,events:[],namespace:null,anchors:[],filters:[],fireCount:1/0,capture:!1,passive:!1,debounce:null,throttle:null,handler:function(){}},r);return n.id||(n.id=t.iid),e.options=n,n}function u(e,t,r,o,i,l,u,c,f,d){var h=function(t){if(e.properties.enabled){var n={target:t.target||null,currentTarget:t.currentTarget||null,relatedTarget:t.relatedTarget||null,srcElement:t.srcElement||t.target,fromElement:t.fromElement||t.relatedTarget,toElement:t.toElement||t.relatedTarget,explicitOriginalTarget:t.explicitOriginalTarget||null,originalTarget:t.originalTarget||null};if(t.targets&&(n=Object.assign(n,t.targets)),t.detail&&t.detail.__MUTATION_RECORD__){var o=t.detail.__MUTATION_RECORD__;n=Object.assign(n,{target:o.target,srcElement:o.target})}for(var i,a,s=0,l=d.length;s<l;s++){var u,f=d[s][0].call(r,t,n),h=d[s][1];if(a=d[s][2],f){if("self"===h){i=f;break}if("mouseenter"===h){if(u=v.mouseenter(f,n)){i=u;break}}else if("mouseleave"===h&&(u=v.mouseleave(f,n))){i=u;break}}if(s===l-1&&!i)return}return n.delegateTarget=i||n.currentTarget,c.call(i||r,t,n,a),e.properties.fireCount--,e.properties.fireCount<=0?p(e):void 0}},g=e.options,m=g.debounce,b=g.throttle;if(m&&(h=a(h,m)),b&&(h=s(h,b)),r.addEventListener(o,h,f),"LibraryEvent"===i){var y=new MutationObserver(function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];r.dispatchEvent(new CustomEvent(o,{detail:{__MUTATION_RECORD__:i}}))}});y.observe(r,{attributes:!0,childList:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),h.observer=y}e.properties.handlers||(e.properties.handlers=[]),e.properties.handlers.push(h),n.interactions.push(e),e.properties.created=!0}function c(e,t,r,n,o){t.removeEventListener(r,n,o),n.observer&&n.observer.disconnect()}function p(e){for(var r=e.properties,i=e.options,a=i.anchors,s=i.events,l=r.handlers,u={capture:i.capture,passive:i.passive},p=0,f=a.length;p<f;p++)for(var v=a[p],d=0,h=s.length;d<h;d++){var g=s[d][0];c(e,v,g,l[p],u)}var m=n.interactions,b=t(m,e);o(b)&&m.splice(b,1),e.properties.removed=!0}var f=function(e){return Object.prototype.toString.call(e).replace(/(\[object |\])/g,"").toLowerCase()};f.is=function(e,t){var r=this(e);return t="|"+t.toLowerCase().trim()+"|",Boolean(-~t.indexOf("|"+r+"|"))},f.isnot=function(e,t){return!this.is(e,t)};var v={mouseenter:function(e,t){return e&&!e.contains(t.fromElement)?e:null},mouseleave:function(e,t){return e&&!e.contains(t.toElement)?e:null}},d=function(e){var t=e.constructor__,r=e.methods__,n=e.extend__;n&&(t.prototype=Object.create(n.prototype),t.prototype.constructor=t);var o=t.prototype;for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);return t}({constructor__:function(t,n){if(!(this instanceof d))return new d(t,n);var o,i;n&&(o=r.interaction(n))&&(i=Object.assign({},o.options)),this.options=i||{},this.properties={iid:e(22),enabled:!1,created:!1,locked:!1,removed:!1,fireCount:1/0},t&&(this.options.name=t,this.properties.name=t),this.defaults={id:null,name:null,events:[],namespace:null,anchors:[],filters:[],fireCount:1/0,capture:!1,passive:!1,debounce:null,throttle:null,handler:function(){}}},methods__:{id:function(e){var t=this;return e&&f.isnot(e,"string")?t:t.properties.locked?t:(t.options.id=e,t)},on:function(){var e=this;if(e.properties.locked)return e;e.options.events||(e.options.events=[]);var t=i(arguments),r=/Firefox/.test(navigator.userAgent);t=t.map(function(e){return r&&"mousewheel"===e?"DOMMouseScroll":e});for(var n,o=" abort error load resize scroll select unload ",a=" click contextmenu dblclick mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup show ",s=" mutation ",l=0,u=t.length;l<u;l++){var c=t[l].toLowerCase();n=":"!==c.charAt(0)?-~o.indexOf(" "+c+" ")?"UIEvent":-~a.indexOf(" "+c+" ")?"MouseEvent":-~s.indexOf(" "+c+" ")?"LibraryEvent":"Event":"CustomEvent",t[l]=[c,n]}return Array.prototype.push.apply(e.options.events,t),e},namespace:function(e){var t=this;return e&&f.isnot(e,"string")?t:t.properties.locked?t:(t.options.namespace=e,t)},anchors:function(){var e=this;return e.properties.locked?e:(e.options.anchors||(e.options.anchors=[]),Array.prototype.push.apply(e.options.anchors,i(arguments)),e)},filters:function(){var e=this;if(e.properties.locked)return e;e.options.filters||(e.options.filters=[]);for(var r=i(arguments),a=[],s=0,l=r.length;s<l;s++){var u=r[s],c="self",p=t(u,"@");o(p)&&(c=u.substring(p+1,u.length),u=u.substring(0,p));var f=n.filters[u];f&&a.push([f,c,u])}return Array.prototype.push.apply(e.options.filters,a),e},fireCount:function(e){var t=this;return e&&f.isnot(e,"number")?t:t.properties.locked?t:(t.options.fireCount=e,t)},capture:function(e){var t=this;return e&&f.isnot(e,"boolean")?t:t.properties.locked?t:(t.options.capture=e,t)},passive:function(e){var t=this;return e&&f.isnot(e,"boolean")?t:t.properties.locked?t:(t.options.passive=e,t)},debounce:function(e){var t=this;return e&&f.isnot(e,"number")?t:t.properties.locked?t:(t.options.debounce=e,t.options.throttle=!1,t)},throttle:function(e){var t=this;return e&&f.isnot(e,"number")?t:t.properties.locked?t:(t.options.throttle=e,t.options.debounce=!1,t)},handler:function(e){var t=this;if(e&&f.isnot(e,"string"))return t;if(t.properties.locked)return t;var r=n.handlers[e];if(r)return t.options.handler=r,t},enable:function(){var e=this;if(!e.properties.created){var t=l(e),r=t.id,n=t.anchors,o=t.events,i=t.namespace,a=t.filters,s=t.fireCount,c=t.handler,p={capture:t.capture,passive:t.passive};e.properties.fireCount=s;for(var f=0,v=n.length;f<v;f++)for(var d=n[f],h=0,g=o.length;h<g;h++){var m=o[h],b=m[0],y=m[1];u(e,r,d,b,y,i,s,c,p,a)}}return e.properties.enabled=!0,e},disable:function(){var e=this;return e.properties.enabled=!1,e},remove:function(){var e=this,r=e.properties;if(e.properties.created)p(e);else{var i=n.interactions,a=t(i,e);o(a)&&i.splice(a,1),r.removed=!0}return e},reset:function(){var e=this,t=e.defaults,r=e.options;if(e.properties.locked)return e;for(var n=i(arguments),o=0,a=n.length;o<a;o++){var s=n[o];s in t&&t.hasOwnProperty(s)&&(r[s]=t[s])}return e}},extend__:!1});return d}(),n={interactions:[],filters:{},handlers:{}};r.interactions=function(){return n.interactions},r.interactionsFor=function(e){for(var t=r.interactions(),n=[],o=0,i=t.length;o<i;o++){var a=t[o];-~a.options.anchors.indexOf(e)&&n.push(a)}return n},r.interaction=function(e){if(!e)return null;for(var t=r.interactions(),n=0,o=t.length;n<o;n++){var i=t[n];if(i.options.id===e)return i}return null},r.trigger=function(e){var n=r.interaction(e);if(n)for(var o=n.options,i=n.properties,a=o.anchors,s=o.events,l=i.handlers[0],u=arguments[1]||{},c=0,p=a.length;c<p;c++)for(var f=0,v=s.length;f<v;f++){var d=t(s[f][0],s[f][1],a[c],u);"LibraryEvent"===d.syntheticType?a[c].dispatchEvent(d):l.call(d,d)}},r.disableAll=function(){for(var e=r.interactions(),t=0,n=e.length;t<n;t++){e[t].disable()}},r.enableAll=function(){for(var e=r.interactions(),t=0,n=e.length;t<n;t++){e[t].enable()}},r.remove=function(e){if(!e)return!1;for(var t=r.interactions(),n=0,o=t.length;n<o;n++){var i=t[n];if(i.options.id===e)return i.remove(),!0}return!1},r.removeAll=function(){for(var e=r.interactions(),t=e.length-1;t>=0;t--)e[t].remove()},r.handlers=function(){return n.handlers},r.filters=function(){return n.filters},r.addFilter=function(e,t){n.filters[e]=t},r.removeFilter=function(e){delete n.filters[e]},r.addHandler=function(e,t){n.handlers[e]=t},r.removeHandler=function(e,t){delete n.handlers[e]};var o=e.app||(e.app={});(o.libs||(o.libs={})).Interaction=r}(window);
